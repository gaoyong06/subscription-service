server:
  http:
    addr: 0.0.0.0:8102
    timeout: 1s
  grpc:
    addr: 0.0.0.0:9102
    timeout: 1s

data:
  database:
    driver: mysql
    source: root:@tcp(localhost:3306)/subscription_service?charset=utf8mb4&parseTime=True&loc=Local
    max_idle_conns: 10
    max_open_conns: 100
    conn_max_lifetime: 3600s
  redis:
    addr: 127.0.0.1:6379
    password: ""
    db: 1
    read_timeout: 0.2s
    write_timeout: 0.2s
    dial_timeout: 1s
    pool_size: 10
    min_idle_conns: 1

client:
  payment_service:
    addr: localhost:9101

subscription:
  return_url: "http://localhost:8080/subscription/success"
  auto_renew_days_before: 3
  expiry_check_days: 7

cron:
  expiry_check: "0 0 2 * * *"      # 每天凌晨 2 点执行过期检查
  renewal_reminder: "0 0 10 * * *" # 每天上午 10 点发送续费提醒
  auto_renewal: "0 0 3 * * *"      # 每天凌晨 3 点执行自动续费

log:
  level: info  # debug, info, warn, error
  format: json # json, console
  output: both # stdout, file, both
  file_path: logs/subscription-service.log
  max_size: 100  # MB
  max_age: 30    # days
  max_backups: 10
  compress: true
